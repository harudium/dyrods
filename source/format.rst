메시지 포맷
=======================================

.. rst-class:: table-width-fix

.. _message_formats:

**Endpoint**

- RUUT 교통 정보 : `/ruut/version/segments`
- RUUT 이벤트 정보 : `/ruut/version/incidents`
- RUUT TPEG : `/ruut/version/tpeg`

공통
--------------------------
Geo Filter
''''''''''''''''''''''''''
**Request**

+---------+-------------------------------------+
| **GET** | `/endpoint?filter-type={value}`     |
+---------+-------------------------------------+

.. csv-table:: Geo Filtering 종류
   :header: "필터명", "필수 파라미터", "상세설명"
   :widths: 15, 20, 40

   "box", "corner1, corner2", "2개 대각 GPS좌표(corner1,2)로 구성된 박스 내 데이터만 필터"
   "circle", "center, radius", "GPS좌표(center) 중심으로 반지름(radius) 로 구성된 원 내 데이터만 필터"
   "polygon", "points", "3개 이상의 GPS좌표로 구성된 도형 내 데이터만 필터"
   "pos", "point", "GPS좌표(point)에서 가장 가까운 1개 데이터만 필터"
   "centerpoint-box", "center, width, height", "GPS좌표(center)가 무게중심이며 width/height 의 가로 세로 길이를 가진 박스 내 데이터만 필터"
   
지도 상의 영역을 지정하고 해당 영역 내에 포함되는 데이터만 추출하는 데 사용합니다. Geo Filter 는 RUUT의 모든 요청 구문의 필수 경로 파라미터 입니다. 모든 키-밸류 쌍의 데이터 형은 String 입니다.

.. csv-table:: Geo Filtering Parameter
   :header: "Parameter", "Type", "Description"
   :widths: 15, 10, 30

   "filter-type", "String", "box, circle, polygon, pos, center"
   "corner"
   

+--------------+-----------------+------------------------------------------------------+
| Parameter    | Value           |                   Desription                       	|
+==============+=================+======================================================+
| filter_type  | box             | 2개 GPS 대각 좌표로 구성된 박스 내 데이터 반환 요청             |
+              +-----------------+------------------------------------------------------+
|              | circle          | GPS 좌표 중심, 반지름으로 구성된 원 내 데이터 반환 요청          |
+              +-----------------+------------------------------------------------------+
|              | polygon.        | 3개 이상의 GPS 좌표로 구성된 도형 내 데이터 반환 요청          |
+              +-----------------+------------------------------------------------------+
|              | pos             | GPS 좌표에서 가장 가까운 미터 내 데이터 1개 반환 요청          |
+              +-----------------+------------------------------------------------------+
|              | centerpoint-box | GPS 좌표 무게중심, 가로/세로로 구성된 박스 내 데이터 반환 요청     |
+--------------+-----------------+------------------------------------------------------+

RUUT
--------------------------
Segment
''''''''''''''''''''''''''
**Request**

Request URL

Parameters



+--------------+---------+-----------------+-------------------------------+
| Parameters   | Type    | Values          | Desription                    |
+==============+=========+=================+===============================+
| filter_type  | String  | box             | 지정된                          |
+--------------+---------+-----------------+-------------------------------+
|              |         | circle          | test                          |
+--------------+---------+-----------------+-------------------------------+
|              |         | polygon         | test                          |
+--------------+---------+-----------------+-------------------------------+
|              |         | pos             | test                          |
+--------------+---------+-----------------+-------------------------------+
|              |         | centerpoint-box | test                          |
+--------------+---------+-----------------+-------------------------------+


**Response**

Incident
''''''''''''''''''''''''''

RUUT TPEG
--------------------------
TPEG2
''''''''''''''''''''''''''

Auxiliary
--------------------------
History
''''''''''''''''''''''''''
